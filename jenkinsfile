pipeline{
    agent { label 'jenkins' }
    triggers { pollSCM('30 22 * * *') }
     stages {
        stage ( 'vcs') {
          steps {
            git url: 'https://github.com/vennela012/shopizer.git',
            branch: 'release'
          }
        }
        stage ('build') {
            steps {
                sh 'mvn package'
            }
        }
        stage ( 'artifactory' ) {
          steps {
            archiveArtifacts artifacts: '**/target/*.jar'
          }
        }
        stage ( 'test results') {
         steps {
            junit '**/surefire-reports/*.xml'
         }   
        }
        }
     }
